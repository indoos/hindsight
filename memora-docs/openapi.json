{
  "openapi": "3.1.0",
  "info": {
    "title": "Agent Memory API",
    "description": "\nA temporal-semantic memory system for AI agents that stores, retrieves, and reasons over memories.\n\n## Features\n\n* **Batch Memory Storage**: Store multiple memories efficiently with automatic fact extraction\n* **Semantic Search**: Find relevant memories using natural language queries\n* **Fact Type Filtering**: Search across world facts, agent actions, and opinions separately\n* **Think Endpoint**: Generate contextual answers based on agent identity and memories\n* **Graph Visualization**: Interactive memory graph visualization\n* **Document Tracking**: Track and manage memory documents with upsert support\n\n## Architecture\n\nThe system uses:\n- **Temporal Links**: Connect memories that are close in time\n- **Semantic Links**: Connect semantically similar memories\n- **Entity Links**: Connect memories that mention the same entities\n- **Spreading Activation**: Intelligent traversal for memory retrieval\n        ",
    "contact": {
      "name": "Memory System"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/agents/{agent_id}/graph": {
      "get": {
        "tags": [
          "Visualization"
        ],
        "summary": "Get memory graph data",
        "description": "Retrieve graph data for visualization, optionally filtered by fact_type (world/agent/opinion). Limited to 1000 most recent items.",
        "operationId": "get_graph",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "fact_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Fact Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphDataResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/memories/list": {
      "get": {
        "tags": [
          "Memory Operations"
        ],
        "summary": "List memory units",
        "description": "List memory units with pagination and optional full-text search. Supports filtering by fact_type.",
        "operationId": "list_memories",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "fact_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Fact Type"
            }
          },
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Q"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListMemoryUnitsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/memories/search": {
      "post": {
        "tags": [
          "Memory Operations"
        ],
        "summary": "Search memory",
        "description": "Search memory using semantic similarity and spreading activation.\n\n    The fact_type parameter is optional and must be one of:\n    - 'world': General knowledge about people, places, events, and things that happen\n    - 'agent': Memories about what the AI agent did, actions taken, and tasks performed\n    - 'opinion': The agent's formed beliefs, perspectives, and viewpoints",
        "operationId": "search_memories",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/think": {
      "post": {
        "tags": [
          "Reasoning"
        ],
        "summary": "Think and generate answer",
        "description": "Think and formulate an answer using agent identity, world facts, and opinions.\n\n    This endpoint:\n    1. Retrieves agent facts (agent's identity)\n    2. Retrieves world facts relevant to the query\n    3. Retrieves existing opinions (agent's perspectives)\n    4. Uses LLM to formulate a contextual answer\n    5. Extracts and stores any new opinions formed\n    6. Returns plain text answer, the facts used, and new opinions",
        "operationId": "think",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThinkRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThinkResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "List all agents",
        "description": "Get a list of all agents with their profiles",
        "operationId": "list_agents",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/stats": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get memory statistics for an agent",
        "description": "Get statistics about nodes and links for a specific agent",
        "operationId": "get_agent_stats",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/documents": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "List documents",
        "description": "List documents with pagination and optional search. Documents are the source content from which memory units are extracted.",
        "operationId": "list_documents",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Q"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListDocumentsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/documents/{document_id}": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "Get document details",
        "description": "Get a specific document including its original text",
        "operationId": "get_document",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Documents"
        ],
        "summary": "Delete a document",
        "description": "Delete a document and all its associated memory units and links.\n\nThis will cascade delete:\n- The document itself\n- All memory units extracted from this document\n- All links (temporal, semantic, entity) associated with those memory units\n\nThis operation cannot be undone.",
        "operationId": "delete_document",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/memories": {
      "post": {
        "tags": [
          "Memory Operations"
        ],
        "summary": "Store multiple memories",
        "description": "Store multiple memory items in batch with automatic fact extraction.\n\n    Features:\n    - Efficient batch processing\n    - Automatic fact extraction from natural language\n    - Entity recognition and linking\n    - Document tracking with automatic upsert (when document_id is provided)\n    - Temporal and semantic linking\n\n    The system automatically:\n    1. Extracts semantic facts from the content\n    2. Generates embeddings\n    3. Deduplicates similar facts\n    4. Creates temporal, semantic, and entity links\n    5. Tracks document metadata\n\n    Note: If document_id is provided and already exists, the old document and its memory units will be deleted before creating new ones (upsert behavior).",
        "operationId": "batch_put_memories",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchPutRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchPutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Clear agent memories",
        "description": "Delete memory units for an agent. Optionally filter by fact_type (world, agent, opinion) to delete only specific types. This is a destructive operation that cannot be undone. The agent profile (personality and background) will be preserved.",
        "operationId": "clear_agent_memories",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "fact_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional fact type filter (world, agent, opinion)",
              "title": "Fact Type"
            },
            "description": "Optional fact type filter (world, agent, opinion)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/memories/async": {
      "post": {
        "tags": [
          "Memory Operations"
        ],
        "summary": "Store multiple memories asynchronously",
        "description": "Store multiple memory items in batch asynchronously using the task backend.\n\n    This endpoint returns immediately after queuing the task, without waiting for completion.\n    The actual processing happens in the background.\n\n    Features:\n    - Immediate response (non-blocking)\n    - Background processing via task queue\n    - Efficient batch processing\n    - Automatic fact extraction from natural language\n    - Entity recognition and linking\n    - Document tracking with automatic upsert (when document_id is provided)\n    - Temporal and semantic linking\n\n    The system automatically:\n    1. Queues the batch put task\n    2. Returns immediately with success=True, queued=True\n    3. Processes in background: extracts facts, generates embeddings, creates links\n\n    Note: If document_id is provided and already exists, the old document and its memory units will be deleted before creating new ones (upsert behavior).",
        "operationId": "batch_put_async",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchPutRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchPutAsyncResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/operations": {
      "get": {
        "tags": [
          "Memory Operations"
        ],
        "summary": "List async operations",
        "description": "Get a list of all async operations (pending and failed) for a specific agent, including error messages for failed operations",
        "operationId": "list_operations",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/operations/{operation_id}": {
      "delete": {
        "tags": [
          "Memory Operations"
        ],
        "summary": "Cancel a pending async operation",
        "description": "Cancel a pending async operation by removing it from the queue",
        "operationId": "cancel_operation",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "operation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Operation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/memories/{unit_id}": {
      "delete": {
        "tags": [
          "Memory Operations"
        ],
        "summary": "Delete a memory unit",
        "description": "Delete a single memory unit and all its associated links (temporal, semantic, and entity links)",
        "operationId": "delete_memory_unit",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          },
          {
            "name": "unit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Unit Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/profile": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get agent profile",
        "description": "Get personality traits and background for an agent. Auto-creates agent with defaults if not exists.",
        "operationId": "get_agent_profile",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Update agent personality",
        "description": "Update agent's Big Five personality traits and bias strength",
        "operationId": "update_agent_personality",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePersonalityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}/background": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Add/merge agent background",
        "description": "Add new background information or merge with existing. LLM intelligently resolves conflicts, normalizes to first person, and optionally infers personality traits.",
        "operationId": "add_agent_background",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddBackgroundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackgroundResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agent_id}": {
      "put": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Create or update agent",
        "description": "Create a new agent or update existing agent with personality and background. Auto-fills missing fields with defaults.",
        "operationId": "create_or_update_agent",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAgentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AddBackgroundRequest": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content",
            "description": "New background information to add or merge"
          },
          "update_personality": {
            "type": "boolean",
            "title": "Update Personality",
            "description": "If true, infer Big Five personality traits from the merged background (default: true)",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "AddBackgroundRequest",
        "description": "Request model for adding/merging background information.",
        "example": {
          "content": "I was born in Texas",
          "update_personality": true
        }
      },
      "AgentListItem": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "personality": {
            "$ref": "#/components/schemas/PersonalityTraits"
          },
          "background": {
            "type": "string",
            "title": "Background"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "name",
          "personality",
          "background"
        ],
        "title": "AgentListItem",
        "description": "Agent list item with profile summary."
      },
      "AgentListResponse": {
        "properties": {
          "agents": {
            "items": {
              "$ref": "#/components/schemas/AgentListItem"
            },
            "type": "array",
            "title": "Agents"
          }
        },
        "type": "object",
        "required": [
          "agents"
        ],
        "title": "AgentListResponse",
        "description": "Response model for listing all agents.",
        "example": {
          "agents": [
            {
              "agent_id": "user123",
              "background": "I am a software engineer",
              "created_at": "2024-01-15T10:30:00Z",
              "name": "Alice",
              "personality": {
                "agreeableness": 0.5,
                "bias_strength": 0.5,
                "conscientiousness": 0.5,
                "extraversion": 0.5,
                "neuroticism": 0.5,
                "openness": 0.5
              },
              "updated_at": "2024-01-16T14:20:00Z"
            }
          ]
        }
      },
      "AgentProfileResponse": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "personality": {
            "$ref": "#/components/schemas/PersonalityTraits"
          },
          "background": {
            "type": "string",
            "title": "Background"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "name",
          "personality",
          "background"
        ],
        "title": "AgentProfileResponse",
        "description": "Response model for agent profile.",
        "example": {
          "agent_id": "user123",
          "background": "I am a software engineer with 10 years of experience in startups",
          "name": "Alice",
          "personality": {
            "agreeableness": 0.7,
            "bias_strength": 0.7,
            "conscientiousness": 0.6,
            "extraversion": 0.5,
            "neuroticism": 0.3,
            "openness": 0.8
          }
        }
      },
      "BackgroundResponse": {
        "properties": {
          "background": {
            "type": "string",
            "title": "Background"
          },
          "personality": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PersonalityTraits"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "background"
        ],
        "title": "BackgroundResponse",
        "description": "Response model for background update.",
        "example": {
          "background": "I was born in Texas. I am a software engineer with 10 years of experience.",
          "personality": {
            "agreeableness": 0.8,
            "bias_strength": 0.6,
            "conscientiousness": 0.6,
            "extraversion": 0.5,
            "neuroticism": 0.4,
            "openness": 0.7
          }
        }
      },
      "BatchPutAsyncResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          },
          "items_count": {
            "type": "integer",
            "title": "Items Count"
          },
          "queued": {
            "type": "boolean",
            "title": "Queued"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "agent_id",
          "items_count",
          "queued"
        ],
        "title": "BatchPutAsyncResponse",
        "description": "Response model for async batch put endpoint.",
        "example": {
          "agent_id": "user123",
          "document_id": "conversation_123",
          "items_count": 2,
          "message": "Batch put task queued for background processing",
          "queued": true,
          "success": true
        }
      },
      "BatchPutRequest": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/MemoryItem"
            },
            "type": "array",
            "title": "Items"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "BatchPutRequest",
        "description": "Request model for batch put endpoint.",
        "example": {
          "document_id": "conversation_123",
          "items": [
            {
              "content": "Alice works at Google",
              "context": "work"
            },
            {
              "content": "Bob went hiking yesterday",
              "event_date": "2024-01-15T10:00:00Z"
            }
          ]
        }
      },
      "BatchPutResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          },
          "items_count": {
            "type": "integer",
            "title": "Items Count"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "agent_id",
          "items_count"
        ],
        "title": "BatchPutResponse",
        "description": "Response model for batch put endpoint.",
        "example": {
          "agent_id": "user123",
          "document_id": "conversation_123",
          "items_count": 2,
          "message": "Successfully stored 2 memory items",
          "success": true
        }
      },
      "CreateAgentRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "personality": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PersonalityTraits"
              },
              {
                "type": "null"
              }
            ]
          },
          "background": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Background"
          }
        },
        "type": "object",
        "title": "CreateAgentRequest",
        "description": "Request model for creating/updating an agent.",
        "example": {
          "background": "I am a creative software engineer with 10 years of experience",
          "name": "Alice",
          "personality": {
            "agreeableness": 0.7,
            "bias_strength": 0.7,
            "conscientiousness": 0.6,
            "extraversion": 0.5,
            "neuroticism": 0.3,
            "openness": 0.8
          }
        }
      },
      "DeleteResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "DeleteResponse",
        "description": "Response model for delete operations.",
        "example": {
          "message": "Resource deleted successfully",
          "success": true
        }
      },
      "DocumentResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "original_text": {
            "type": "string",
            "title": "Original Text"
          },
          "content_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Hash"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "memory_unit_count": {
            "type": "integer",
            "title": "Memory Unit Count"
          }
        },
        "type": "object",
        "required": [
          "id",
          "agent_id",
          "original_text",
          "content_hash",
          "created_at",
          "updated_at",
          "memory_unit_count"
        ],
        "title": "DocumentResponse",
        "description": "Response model for get document endpoint.",
        "example": {
          "agent_id": "user123",
          "content_hash": "abc123",
          "created_at": "2024-01-15T10:30:00Z",
          "id": "session_1",
          "memory_unit_count": 15,
          "original_text": "Full document text here...",
          "updated_at": "2024-01-15T10:30:00Z"
        }
      },
      "GraphDataResponse": {
        "properties": {
          "nodes": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Nodes"
          },
          "edges": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Edges"
          },
          "table_rows": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Table Rows"
          },
          "total_units": {
            "type": "integer",
            "title": "Total Units"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges",
          "table_rows",
          "total_units"
        ],
        "title": "GraphDataResponse",
        "description": "Response model for graph data endpoint.",
        "example": {
          "edges": [
            {
              "from": "1",
              "to": "2",
              "type": "semantic",
              "weight": 0.8
            }
          ],
          "nodes": [
            {
              "id": "1",
              "label": "Alice works at Google",
              "type": "world"
            },
            {
              "id": "2",
              "label": "Bob went hiking",
              "type": "world"
            }
          ],
          "table_rows": [
            {
              "context": "Work info",
              "date": "2024-01-15 10:30",
              "entities": "Alice (PERSON), Google (ORGANIZATION)",
              "id": "abc12345...",
              "text": "Alice works at Google"
            }
          ],
          "total_units": 2
        }
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ListDocumentsResponse": {
        "properties": {
          "items": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "ListDocumentsResponse",
        "description": "Response model for list documents endpoint.",
        "example": {
          "items": [
            {
              "agent_id": "user123",
              "content_hash": "abc123",
              "created_at": "2024-01-15T10:30:00Z",
              "id": "session_1",
              "memory_unit_count": 15,
              "text_length": 5420,
              "updated_at": "2024-01-15T10:30:00Z"
            }
          ],
          "limit": 100,
          "offset": 0,
          "total": 50
        }
      },
      "ListMemoryUnitsResponse": {
        "properties": {
          "items": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "ListMemoryUnitsResponse",
        "description": "Response model for list memory units endpoint.",
        "example": {
          "items": [
            {
              "context": "Work conversation",
              "date": "2024-01-15T10:30:00Z",
              "entities": "Alice (PERSON), Google (ORGANIZATION)",
              "fact_type": "world",
              "id": "550e8400-e29b-41d4-a716-446655440000",
              "text": "Alice works at Google on the AI team"
            }
          ],
          "limit": 100,
          "offset": 0,
          "total": 150
        }
      },
      "MemoryItem": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content"
          },
          "event_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Event Date"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "MemoryItem",
        "description": "Single memory item for batch put.",
        "example": {
          "content": "Alice mentioned she's working on a new ML model",
          "context": "team meeting",
          "event_date": "2024-01-15T10:30:00Z"
        }
      },
      "PersonalityTraits": {
        "properties": {
          "openness": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Openness",
            "description": "Openness to experience (0-1)"
          },
          "conscientiousness": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Conscientiousness",
            "description": "Conscientiousness (0-1)"
          },
          "extraversion": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Extraversion",
            "description": "Extraversion (0-1)"
          },
          "agreeableness": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Agreeableness",
            "description": "Agreeableness (0-1)"
          },
          "neuroticism": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Neuroticism",
            "description": "Neuroticism (0-1)"
          },
          "bias_strength": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Bias Strength",
            "description": "How strongly personality influences opinions (0-1)"
          }
        },
        "type": "object",
        "required": [
          "openness",
          "conscientiousness",
          "extraversion",
          "agreeableness",
          "neuroticism",
          "bias_strength"
        ],
        "title": "PersonalityTraits",
        "description": "Personality traits based on Big Five model.",
        "example": {
          "agreeableness": 0.7,
          "bias_strength": 0.7,
          "conscientiousness": 0.6,
          "extraversion": 0.5,
          "neuroticism": 0.3,
          "openness": 0.8
        }
      },
      "SearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "fact_type": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fact Type"
          },
          "thinking_budget": {
            "type": "integer",
            "title": "Thinking Budget",
            "default": 100
          },
          "max_tokens": {
            "type": "integer",
            "title": "Max Tokens",
            "default": 4096
          },
          "trace": {
            "type": "boolean",
            "title": "Trace",
            "default": false
          },
          "question_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question Date"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SearchRequest",
        "description": "Request model for search endpoint.",
        "example": {
          "fact_type": [
            "world",
            "agent"
          ],
          "max_tokens": 4096,
          "query": "What did Alice say about machine learning?",
          "question_date": "2023-05-30T23:40:00",
          "thinking_budget": 100,
          "trace": true
        }
      },
      "SearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            },
            "type": "array",
            "title": "Results"
          },
          "trace": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trace"
          }
        },
        "type": "object",
        "required": [
          "results"
        ],
        "title": "SearchResponse",
        "description": "Response model for search endpoints.",
        "example": {
          "results": [
            {
              "context": "work info",
              "event_date": "2024-01-15T10:30:00Z",
              "id": "123e4567-e89b-12d3-a456-426614174000",
              "text": "Alice works at Google on the AI team",
              "type": "world"
            }
          ],
          "trace": {
            "num_results": 1,
            "query": "What did Alice say about machine learning?",
            "time_seconds": 0.123
          }
        }
      },
      "SearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "text": {
            "type": "string",
            "title": "Text"
          },
          "type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "event_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Event Date"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          }
        },
        "type": "object",
        "required": [
          "id",
          "text"
        ],
        "title": "SearchResult",
        "description": "Single search result item.",
        "example": {
          "context": "work info",
          "document_id": "session_abc123",
          "event_date": "2024-01-15T10:30:00Z",
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "text": "Alice works at Google on the AI team",
          "type": "world"
        }
      },
      "ThinkFact": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "text": {
            "type": "string",
            "title": "Text"
          },
          "type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "event_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Event Date"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "ThinkFact",
        "description": "A fact used in think response.",
        "example": {
          "context": "healthcare discussion",
          "event_date": "2024-01-15T10:30:00Z",
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "text": "AI is used in healthcare",
          "type": "world"
        }
      },
      "ThinkRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "thinking_budget": {
            "type": "integer",
            "title": "Thinking Budget",
            "default": 50
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "ThinkRequest",
        "description": "Request model for think endpoint.",
        "example": {
          "context": "This is for a research paper on AI ethics",
          "query": "What do you think about artificial intelligence?",
          "thinking_budget": 50
        }
      },
      "ThinkResponse": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "based_on": {
            "items": {
              "$ref": "#/components/schemas/ThinkFact"
            },
            "type": "array",
            "title": "Based On",
            "default": []
          },
          "new_opinions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "New Opinions",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "ThinkResponse",
        "description": "Response model for think endpoint.",
        "example": {
          "based_on": [
            {
              "id": "123",
              "text": "AI is used in healthcare",
              "type": "world"
            },
            {
              "id": "456",
              "text": "I discussed AI applications last week",
              "type": "agent"
            }
          ],
          "new_opinions": [
            "AI has great potential when used responsibly"
          ],
          "text": "Based on my understanding, AI is a transformative technology..."
        }
      },
      "UpdatePersonalityRequest": {
        "properties": {
          "personality": {
            "$ref": "#/components/schemas/PersonalityTraits"
          }
        },
        "type": "object",
        "required": [
          "personality"
        ],
        "title": "UpdatePersonalityRequest",
        "description": "Request model for updating personality traits."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}
